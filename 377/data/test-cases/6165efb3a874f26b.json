{"uid":"6165efb3a874f26b","name":"test_charm_integrate_with_data","fullName":"tests.integration.test_basic#test_charm_integrate_with_data","historyId":"94c814a7a856a206fbf25f3f1eab5687","time":{"start":1771687463249,"stop":1771687531499,"duration":68250},"description":"\n    arrange: A working application of content-cache charm, with no integrations.\n    act:\n        1. Integrate with the configuration charm with configuration set.\n        2. Wait for a while, then query again.\n        3. Wait until the cache expires, then query again.\n        4. Remove the configuration on the configuration charm.\n        5. Remove the integration between the charms.\n    assert:\n        1. The request to the cache should succeed.\n        2. The timestamp of the response should be the same as last request.\n        3. The timestamp of the response should be refreshed.\n        4. The configuration charm should be in blocked state. The content-cache charm will be\n            serving according to the old configuration.\n        5. The application in blocked status waiting for integration.\n    ","descriptionHtml":"<pre><code>arrange: A working application of content-cache charm, with no integrations.\nact:\n    1. Integrate with the configuration charm with configuration set.\n    2. Wait for a while, then query again.\n    3. Wait until the cache expires, then query again.\n    4. Remove the configuration on the configuration charm.\n    5. Remove the integration between the charms.\nassert:\n    1. The request to the cache should succeed.\n    2. The timestamp of the response should be the same as last request.\n    3. The timestamp of the response should be refreshed.\n    4. The configuration charm should be in blocked state. The content-cache charm will be\n        serving according to the old configuration.\n    5. The application in blocked status waiting for integration.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1771687038217,"stop":1771687038217,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771687038218,"stop":1771687038218,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1771687038218,"stop":1771687038568,"duration":350},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1771687038218,"stop":1771687038218,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1771687038218,"stop":1771687038218,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1771687038568,"stop":1771687038568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_charm_file","time":{"start":1771687038568,"stop":1771687147043,"duration":108475},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1771687038568,"stop":1771687038568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"metric_app_name","time":{"start":1771687147043,"stop":1771687147043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"applications","time":{"start":1771687147043,"stop":1771687229940,"duration":82897},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cert_app_name","time":{"start":1771687147043,"stop":1771687147043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_alt_app_name","time":{"start":1771687147043,"stop":1771687147043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_app_name","time":{"start":1771687147043,"stop":1771687147043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1771687229941,"stop":1771687229941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_app","time":{"start":1771687229943,"stop":1771687229943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_ok_path","time":{"start":1771687229943,"stop":1771687229943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_ok_message","time":{"start":1771687229943,"stop":1771687229943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_ok_app","time":{"start":1771687229943,"stop":1771687280467,"duration":50524},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cert_app","time":{"start":1771687280468,"stop":1771687280468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_ok_ip","time":{"start":1771687280468,"stop":1771687280468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_alt_app","time":{"start":1771687280468,"stop":1771687280468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1771687463248,"stop":1771687463248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cache_tester","time":{"start":1771687463248,"stop":1771687463248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A working application of content-cache charm, with no integrations.\n    act:\n        1. Integrate with the configuration charm with configuration set.\n        2. Wait for a while, then query again.\n        3. Wait until the cache expires, then query again.\n        4. Remove the configuration on the configuration charm.\n        5. Remove the integration between the charms.\n    assert:\n        1. The request to the cache should succeed.\n        2. The timestamp of the response should be the same as last request.\n        3. The timestamp of the response should be refreshed.\n        4. The configuration charm should be in blocked state. The content-cache charm will be\n            serving according to the old configuration.\n        5. The application in blocked status waiting for integration.\n    ","status":"passed","steps":[],"attachments":[{"uid":"aa6066f8dc77709e","name":"log","source":"aa6066f8dc77709e.txt","type":"text/plain","size":1025}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"cache_tester::finalizer","time":{"start":1771687531500,"stop":1771687549135,"duration":17635},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1771687549135,"stop":1771687549135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cert_app::finalizer","time":{"start":1771687641033,"stop":1771687641033,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_app::finalizer","time":{"start":1771687641034,"stop":1771687641034,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_alt_app::finalizer","time":{"start":1771687641034,"stop":1771687641034,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_ok_app::finalizer","time":{"start":1771687641034,"stop":1771687641034,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"applications::finalizer","time":{"start":1771687641035,"stop":1771687641035,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_charm_file::finalizer","time":{"start":1771687641035,"stop":1771687641035,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app::finalizer","time":{"start":1771687641035,"stop":1771687641035,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model::finalizer","time":{"start":1771687641036,"stop":1771687641036,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1771687641036,"stop":1771687642854,"duration":1818},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1771687642855,"stop":1771687642855,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1771687642855,"stop":1771687642855,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1771687642855,"stop":1771687642855,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_basic"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10635-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_basic"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3102c337ca9dde0f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":4,"unknown":0,"total":4},"items":[{"uid":"594a101bb0b4d389","reportUrl":"../370//#testresult/594a101bb0b4d389","status":"passed","time":{"start":1771082812805,"stop":1771082880567,"duration":67762}},{"uid":"37914451bddafc56","reportUrl":"../354//#testresult/37914451bddafc56","status":"passed","time":{"start":1770477937015,"stop":1770478004664,"duration":67649}},{"uid":"2811e848427dc86b","reportUrl":"../351//#testresult/2811e848427dc86b","status":"passed","time":{"start":1769873401436,"stop":1769873469755,"duration":68319}}]},"tags":["asyncio","abort_on_fail"]},"source":"6165efb3a874f26b.json","parameterValues":[]}